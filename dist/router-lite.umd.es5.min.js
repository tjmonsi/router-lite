!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";var t="/",e="./",r=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function n(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function o(t){return t.replace(/([=!:$/()])/g,"\\$1")}function i(t){return t&&t.sensitive?"":"i"}function a(a,u,s){return function(r,o,a){for(var u=(a=a||{}).strict,s=!1!==a.end,c=n(a.delimiter||t),l=a.delimiters||e,h=[].concat(a.endsWith||[]).map(n).concat("$").join("|"),f="",d=!1,p=0;p<r.length;p++){var b=r[p];if("string"==typeof b)f+=n(b),d=p===r.length-1&&l.indexOf(b[b.length-1])>-1;else{var g=n(b.prefix),_=b.repeat?"(?:"+b.pattern+")(?:"+g+"(?:"+b.pattern+"))*":b.pattern;o&&o.push(b),b.optional?b.partial?f+=g+"("+_+")?":f+="(?:"+g+"("+_+"))?":f+=g+"("+_+")"}}s?(u||(f+="(?:"+c+")?"),f+="$"===h?"$":"(?="+h+")"):(u||(f+="(?:"+c+"(?="+h+"))?"),d||(f+="(?="+c+"|"+h+")"));return new RegExp("^"+f,i(a))}(function(i,a){for(var u,s=[],c=0,l=0,h="",f=a&&a.delimiter||t,d=a&&a.delimiters||e,p=!1;null!==(u=r.exec(i));){var b=u[0],g=u[1],_=u.index;if(h+=i.slice(l,_),l=_+b.length,g)h+=g[1],p=!0;else{var v="",m=i[l],w=u[2],y=u[3],R=u[4],k=u[5];if(!p&&h.length){var C=h.length-1;d.indexOf(h[C])>-1&&(v=h[C],h=h.slice(0,C))}h&&(s.push(h),h="",p=!1);var A=""!==v&&void 0!==m&&m!==v,x="+"===k||"*"===k,E="?"===k||"*"===k,j=v||f,O=y||R;s.push({name:w||c++,prefix:v,delimiter:j,optional:E,repeat:x,partial:A,pattern:O?o(O):"[^"+n(j)+"]+?"})}}return(h||l<i.length)&&s.push(h+i.substr(l)),s}(a,s),u,s)}function u(t,e,r){return t instanceof RegExp?function(t,e){if(!e)return t;var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return t}(t,e):Array.isArray(t)?function(t,e,r){for(var n=[],o=0;o<t.length;o++)n.push(u(t[o],e,r).source);return new RegExp("(?:"+n.join("|")+")",i(r))}(t,e,r):a(t,e,r)}var s=function(t){function e(){t.call(this),this.__data={},this.__routeInitialized=!1,this._boundChildrenChanged=this._childrenChanged.bind(this),this.routes=[]}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={currentRoute:{configurable:!0},fallbackRoute:{configurable:!0},path:{configurable:!0}},n={is:{configurable:!0},observedAttributes:{configurable:!0}};return n.is.get=function(){return"router-lite"},n.observedAttributes.get=function(){return["fallback-route"]},e.prototype.connectedCallback=function(){if(this.fallbackRoute||(this.fallbackRoute="no-page"),this.children)for(var t of Array.from(this.children))this._getRoute(t);this._observer=new window.MutationObserver(this._boundChildrenChanged),this._observer.observe(this,{childList:!0}),this.hasAttribute("fallback-route")&&(this.__data.fallbackRoute=this.getAttribute("fallback-route")),this.__routeInitialized=!0,this._pathChanged(this.path)},e.prototype.disconnectedCallback=function(){this._observer&&this._observer.disconnect()},r.currentRoute.set=function(t){this.__data.currentRoute=t,this.setAttribute("current-route",t)},r.currentRoute.get=function(){return this.__data.currentRoute},r.fallbackRoute.set=function(t){this.__data.fallbackRoute=t,this.setAttribute("fallback-route",t)},r.fallbackRoute.get=function(){return this.__data.fallbackRoute},r.path.set=function(t){this.__data.path=t,this.__routeInitialized&&this._pathChanged(t)},r.path.get=function(){return this.__data.path},e.prototype._childrenChanged=function(t){for(var e of t)if("childList"===e.type&&e.addedNodes)for(var r of Array.from(e.addedNodes))this._getRoute(r)},e.prototype._getRoute=function(t){"route-data-lite"===t.nodeName.toLowerCase()?t.route&&"string"==typeof t.route&&t.route.trim()?this.routes.push(t.route):t.hasAttribute("route")&&"string"==typeof t.getAttribute("route")&&t.getAttribute("route").trim()?this.routes.push(t.getAttribute("route")):console.warn("There's no route information found in route-data ",t):console.warn("Only route-data-lite is allowed",t)},e.prototype._pathChanged=function(t){var e=null,r=[];for(var n of this.routes)if(e=u(n,r=[]).exec(t))return this._routeMatched(n,e,r);return this._routeMatched(this.fallbackRoute,[],[])},e.prototype._routeMatched=function(t,e,r){for(var n=this,o={},i=0,a=r.length;i<a;i++){o[r[i].name]=e[i+1]||null}this.routeParamObject=o,this.currentRoute=t,Promise.resolve().then(function(){n.dispatchEvent(new window.CustomEvent("route-param-object-change",{detail:n.routeParamObject})),n.dispatchEvent(new window.CustomEvent("current-route-change",{detail:n.currentRoute}))})},e.prototype.attributeChangedCallback=function(t,e,r){"fallback-route"===t&&this.__data.fallbackRoute!==r&&(this.__data.fallbackRoute=r)},Object.defineProperties(e.prototype,r),Object.defineProperties(e,n),e}(window.HTMLElement);window.customElements.get(s.is)?console.warn(`${s.is} is already defined somewhere. Please check your code.`):window.customElements.define(s.is,s)});
